{
  "adr_id": "4f104869-68bf-40a5-877c-825c24f54da5",
  "title": "In api/server.py, add workspace API support:\n\n1. Add WorkspaceRequest model afte...",
  "decision": "In api/server.py, add workspace API support:\n\n1. Add WorkspaceRequest model after the existing models (around line 275):\n   class WorkspaceRequest(BaseModel):\n       name: str\n       mode: str = 'normal'\n\n2. Add these three endpoints at the end of the API section (before the Frontend Mounting section):\n\n   @app.post('/api/workspaces')\n   async def create_workspace(req: WorkspaceRequest):\n       '''Create a new workspace'''\n       from backend.kb import uid\n       from backend.kb.workspace import Workspace\n       from backend.kb.schemas import WorkspaceMode\n       \n       icgl = get_icgl()\n       workspace = Workspace(\n           id=uid(),\n           name=req.name,\n           mode=WorkspaceMode(req.mode)\n       )\n       icgl.kb.add_workspace(workspace)\n       return {'workspace': workspace}\n   \n   @app.get('/api/workspaces')\n   async def list_workspaces():\n       '''List all workspaces'''\n       icgl = get_icgl()\n       workspaces = icgl.kb.list_workspaces()\n       return {'workspaces': workspaces}\n   \n   @app.get('/api/workspaces/{workspace_id}')\n   async def get_workspace(workspace_id: str):\n       '''Get workspace by ID'''\n       icgl = get_icgl()\n       workspace = icgl.kb.get_workspace(workspace_id)\n       if not workspace:\n           raise HTTPException(status_code=404, detail='Workspace not found')\n       return {'workspace': workspace}\n\nFollow the pattern of existing endpoints like create_proposal.",
  "context_summary": "In api/server.py, add workspace API support:\n\n1. Add WorkspaceRequest model after the existing models (around line 275):\n   class WorkspaceRequest(BaseModel):\n       name: str\n       mode: str = 'normal'\n\n2. Add these three endpoints at the end of the API section (before the Frontend Mounting section):\n\n   @app.post('/api/workspaces')\n   async def create_workspace(req: WorkspaceRequest):\n       '''Create a new workspace'''\n       from backend.kb import uid\n       from backend.kb.workspace import",
  "full_context": "In api/server.py, add workspace API support:\n\n1. Add WorkspaceRequest model after the existing models (around line 275):\n   class WorkspaceRequest(BaseModel):\n       name: str\n       mode: str = 'normal'\n\n2. Add these three endpoints at the end of the API section (before the Frontend Mounting section):\n\n   @app.post('/api/workspaces')\n   async def create_workspace(req: WorkspaceRequest):\n       '''Create a new workspace'''\n       from backend.kb import uid\n       from backend.kb.workspace import Workspace\n       from backend.kb.schemas import WorkspaceMode\n       \n       icgl = get_icgl()\n       workspace = Workspace(\n           id=uid(),\n           name=req.name,\n           mode=WorkspaceMode(req.mode)\n       )\n       icgl.kb.add_workspace(workspace)\n       return {'workspace': workspace}\n   \n   @app.get('/api/workspaces')\n   async def list_workspaces():\n       '''List all workspaces'''\n       icgl = get_icgl()\n       workspaces = icgl.kb.list_workspaces()\n       return {'workspaces': workspaces}\n   \n   @app.get('/api/workspaces/{workspace_id}')\n   async def get_workspace(workspace_id: str):\n       '''Get workspace by ID'''\n       icgl = get_icgl()\n       workspace = icgl.kb.get_workspace(workspace_id)\n       if not workspace:\n           raise HTTPException(status_code=404, detail='Workspace not found')\n       return {'workspace': workspace}\n\nFollow the pattern of existing endpoints like create_proposal.",
  "status": "DRAFT",
  "timestamp": "2026-01-22T07:04:45.913618+00:00",
  "logical_impact": "LEGACY_MIGRATION",
  "governance_phase": 11,
  "migrated": true,
  "consequences": [],
  "policies": []
}