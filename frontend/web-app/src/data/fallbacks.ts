import type { AgentRegistryEntry, DocNode, PatternAlert, SystemHealth } from '../api/types';

// Fallback datasets: تُستخدم لعرض الواجهة عند غياب بيانات API حية. يجب استبدالها ببيانات
// حقيقية من /api/system/agents و /api/system/docs و /patterns/alerts عندما تتوفر.
export const fallbackAgents: AgentRegistryEntry[] = [
  {
    id: 'architect',
    name: 'Architect',
    department: 'الهندسة',
    status: 'active',
    fidelity: 'live',
    description: 'Architectural integrity and system design.',
    capabilities: ['Design review', 'System topology', 'Integrity checks'],
    signals: ['Live'],
    role: 'architect',
  },
  {
    id: 'builder',
    name: 'Builder',
    department: 'العمليات',
    status: 'active',
    fidelity: 'live',
    description: 'Code generation and scaffolding tasks.',
    capabilities: ['Scaffold code', 'Draft PR plans', 'Path inference'],
    signals: ['Generator'],
    role: 'builder',
  },
  {
    id: 'engineer',
    name: 'Engineer',
    department: 'العمليات',
    status: 'active',
    fidelity: 'live',
    description: 'GitOps / Version Control status.',
    capabilities: ['GitOps posture', 'Branch hygiene', 'Deploy gates'],
    signals: ['Live'],
    role: 'engineer',
  },
  {
    id: 'failure',
    name: 'Failure Agent',
    department: 'الأمن',
    status: 'active',
    fidelity: 'live',
    description: 'Failure mode detection and risk analysis.',
    capabilities: ['FMEA', 'Risk detection', 'Side effect analysis'],
    signals: ['Signals'],
    role: 'failure',
  },
  {
    id: 'policy',
    name: 'Policy Agent',
    department: 'الحوكمة',
    status: 'active',
    fidelity: 'live',
    description: 'Policy Editor · Rules Engine',
    capabilities: ['Policy edit', 'Rules validation', 'Escalation to HDAL'],
    signals: ['Policy-Engine'],
    role: 'policy',
  },
  {
    id: 'guardian',
    name: 'Concept Guardian',
    department: 'الأمن',
    status: 'active',
    fidelity: 'live',
    description: 'Protects core system concepts and integrity.',
    capabilities: ['Concept integrity', 'Boundary checks', 'Philosophy compliance'],
    signals: ['Manifesto'],
    role: 'guardian',
  },
  {
    id: 'sentinel',
    name: 'Sentinel',
    department: 'الأمن',
    status: 'active',
    fidelity: 'live',
    description: 'Drift Monitor · Pattern Alerts',
    capabilities: ['Risk scans', 'Drift detection', 'Pattern alerts'],
    signals: ['/ws/scp', 'patterns/alerts'],
    role: 'sentinel',
  },
  {
    id: 'testing',
    name: 'Testing Agent',
    department: 'الجودة',
    status: 'active',
    fidelity: 'live',
    description: 'Automated test generation and execution.',
    capabilities: ['Test generation', 'Edge case detection', 'Coverage analysis', 'Pytest orchestration'],
    signals: ['Test results'],
    role: 'testing',
  },
  {
    id: 'verification',
    name: 'Verification Agent',
    department: 'الجودة',
    status: 'active',
    fidelity: 'live',
    description: 'Comprehensive code verification and security scanning.',
    capabilities: ['Security audit', 'Quality checks', 'Dependency scan', 'Best practices'],
    signals: ['Security feed'],
    role: 'verification',
  },
  {
    id: 'mediator',
    name: 'Mediator',
    department: 'الحوكمة',
    status: 'active',
    fidelity: 'live',
    description: 'Orchestrates consensus when agents conflict.',
    capabilities: ['Conflict detection', 'Compromise synthesis', 'Escalation'],
    signals: ['Consensus'],
    role: 'mediator',
  },
  {
    id: 'hr',
    name: 'HR',
    department: 'الموارد البشرية',
    status: 'active',
    fidelity: 'live',
    description: 'Employee records · Role definitions',
    capabilities: ['Role registry', 'Access mapping'],
    signals: ['HR dossiers'],
    role: 'hr',
  },
  {
    id: 'documentation',
    name: 'Documentation Agent',
    department: 'الأرشيف',
    status: 'active',
    fidelity: 'live',
    description: 'Documentation and ADR steward.',
    capabilities: ['ADR drafting', 'Documentation generation', 'Knowledge base maintenance'],
    signals: ['Documentation'],
    role: 'archivist',
  },
  {
    id: 'specialist',
    name: 'Code Specialist',
    department: 'الهندسة',
    status: 'active',
    fidelity: 'live',
    description: 'Deep code analysis and domain expertise.',
    capabilities: ['Static analysis', 'Refactoring', 'Optimization'],
    signals: ['Lints'],
    role: 'builder',
  },
  {
    id: 'secretary',
    name: 'Secretary',
    department: 'المكتب التنفيذي',
    status: 'active',
    fidelity: 'live',
    description: 'Executive coordination and reporting gateway.',
    capabilities: ['Relay log', 'Translate requests', 'Executive intake'],
    signals: ['/ws/scp', 'Global timeline'],
    role: 'secretary',
  },
  {
    id: 'hdal',
    name: 'HDAL Authority',
    department: 'الحوكمة',
    status: 'active',
    fidelity: 'live',
    description: 'Human Decision Authority Layer - Approval workflow.',
    capabilities: ['Signature queue', 'Audit trail', 'Human-in-loop'],
    signals: ['HDAL ledger'],
    role: 'hdal',
  },
  {
    id: 'archivist',
    name: 'Archivist',
    department: 'الأرشيف',
    status: 'active',
    fidelity: 'live',
    description: 'Documents workspace and ADR steward.',
    capabilities: ['Document drafts', 'Gap analysis', 'ADR lifecycle'],
    signals: ['Archivist logs'],
    role: 'archivist',
  },
  {
    id: 'monitor',
    name: 'System Monitor',
    department: 'الأمن',
    status: 'active',
    fidelity: 'live',
    description: 'Real-time system health monitoring.',
    capabilities: ['Resource usage', 'Uptime tracking', 'Health checks'],
    signals: ['/ws/scp', 'system/health'],
    role: 'monitor',
  },
];

export const fallbackDocs: DocNode[] = [
  {
    name: 'docs',
    path: 'docs',
    type: 'directory',
    children: [
      { name: 'manifesto.md', path: 'docs/manifesto.md', type: 'file' },
      { name: 'icgl_knowledge_base_v1.md', path: 'docs/icgl_knowledge_base_v1.md', type: 'file' },
      {
        name: 'procedures',
        path: 'docs/procedures',
        type: 'directory',
        children: [
          { name: 'governance_cycle.md', path: 'docs/procedures/governance_cycle.md', type: 'file' },
        ],
      },
    ],
  },
  {
    name: 'policies',
    path: 'policies',
    type: 'directory',
    children: [
      { name: 'P-OPS-05.md', path: 'policies/P-OPS-05.md', type: 'file' },
      { name: 'P-SEC-01.md', path: 'policies/P-SEC-01.md', type: 'file' },
    ],
  },
  {
    name: 'adr',
    path: 'adr',
    type: 'directory',
    children: [
      { name: 'ADR-0001.md', path: 'adr/ADR-0001.md', type: 'file' },
      { name: 'ADR-0002.md', path: 'adr/ADR-0002.md', type: 'file' },
    ],
  },
];

export const fallbackPatternAlerts: PatternAlert[] = [
  {
    alert_id: 'pattern-1',
    severity: 'medium',
    pattern: 'Access Drift',
    description: 'Sentinel لاحظ فرق صلاحيات بين السياسة والسجلات الفعلية.',
    timestamp: new Date(Date.now() - 8 * 60 * 1000).toISOString(),
    event_count: 3,
  },
  {
    alert_id: 'pattern-2',
    severity: 'high',
    pattern: 'Policy Gap',
    description: 'لم يتم العثور على سياسة نسخ احتياطي موقعة بعد تحديث البنية.',
    timestamp: new Date(Date.now() - 20 * 60 * 1000).toISOString(),
    event_count: 2,
  },
];

export const fallbackHealth: SystemHealth = {
  integrity_score: 92,
  status: 'normal',
  active_agents: 7,
  active_operations: 3,
  waiting_for_human: false,
};
