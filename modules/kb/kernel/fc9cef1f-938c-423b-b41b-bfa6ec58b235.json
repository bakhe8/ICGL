{
  "adr_id": "fc9cef1f-938c-423b-b41b-bfa6ec58b235",
  "title": "Enhance BuilderAgent in backend/agents/builder.py to be self-aware and intellige...",
  "decision": "Enhance BuilderAgent in backend/agents/builder.py to be self-aware and intelligent:\n\n1. Add _learn_patterns() method that:\n   - Takes target file path\n   - Reads similar files in same directory\n   - Extracts common patterns: imports structure, naming conventions, docstring style\n   - Returns pattern_hints dict\n\n2. Add _verify_output() method that:\n   - Takes generated file_changes\n   - Checks syntax validity (try to compile)\n   - Verifies all imports exist in project\n   - Checks if follows project conventions\n   - Returns (is_valid: bool, issues: List[str])\n\n3. Update _analyze() to:\n   - Call _learn_patterns() BEFORE generating code\n   - Pass pattern_hints to LLM in user_prompt\n   - Call _verify_output() AFTER getting LLM response\n   - If verification fails, retry with error feedback (max 2 attempts)\n   - Add verification_report to AgentResult metadata\n\n4. Import: Path from pathlib, ast module for syntax checking\n\nMake BuilderAgent learn from existing code and self-verify. This is true self-improvement.",
  "context_summary": "Enhance BuilderAgent in backend/agents/builder.py to be self-aware and intelligent:\n\n1. Add _learn_patterns() method that:\n   - Takes target file path\n   - Reads similar files in same directory\n   - Extracts common patterns: imports structure, naming conventions, docstring style\n   - Returns pattern_hints dict\n\n2. Add _verify_output() method that:\n   - Takes generated file_changes\n   - Checks syntax validity (try to compile)\n   - Verifies all imports exist in project\n   - Checks if follows proje",
  "full_context": "Enhance BuilderAgent in backend/agents/builder.py to be self-aware and intelligent:\n\n1. Add _learn_patterns() method that:\n   - Takes target file path\n   - Reads similar files in same directory\n   - Extracts common patterns: imports structure, naming conventions, docstring style\n   - Returns pattern_hints dict\n\n2. Add _verify_output() method that:\n   - Takes generated file_changes\n   - Checks syntax validity (try to compile)\n   - Verifies all imports exist in project\n   - Checks if follows project conventions\n   - Returns (is_valid: bool, issues: List[str])\n\n3. Update _analyze() to:\n   - Call _learn_patterns() BEFORE generating code\n   - Pass pattern_hints to LLM in user_prompt\n   - Call _verify_output() AFTER getting LLM response\n   - If verification fails, retry with error feedback (max 2 attempts)\n   - Add verification_report to AgentResult metadata\n\n4. Import: Path from pathlib, ast module for syntax checking\n\nMake BuilderAgent learn from existing code and self-verify. This is true self-improvement.",
  "status": "DRAFT",
  "timestamp": "2026-01-22T07:10:34.159938+00:00",
  "logical_impact": "LEGACY_MIGRATION",
  "governance_phase": 11,
  "migrated": true,
  "consequences": [],
  "policies": []
}