# `04-Agents-Model.md`  
**نموذج الوكلاء والسيادة (Agents & Sovereignty Model)**

هذا الملف يحدد بدقة:

- من هم الوكلاء؟
- ماذا يفعلون؟
- ماذا يُسمح لهم؟
- ماذا يُمنع عليهم؟
- وكيف تُدار علاقتهم بالمدير (الإنسان صاحب السيادة)

---

## 1. تعريف الوكلاء

النظام لا يعتمد على ذكاء مركزي واحد، بل على وحدات وظيفية متغيرة (Dynamic Agents) يتم استدعاؤها حسب الحاجة.

لكل وكيل:

- عدسة تخصصية محددة.
- مجال مراقبة خاص به.
- قدرة على الملاحظة والاستشارة والتحليل.
- واجب صياغة اقتراح منضبط.

الوكلاء ليسوا “بوتات ردّ فعل”، بل:

- يراقبون النظام الذي يعملون فيه.
- يلاحظون أثر القرارات السابقة.
- يكتشفون خللًا أو فرصة أو صعوبة في نطاقهم.
- يستشيرون نموذج الذكاء الاصطناعي من زاوية تخصصهم.
- يعودون باقتراح منضبط.

---

## 2. مبادئ السيادة

- الوكلاء **مبادرون** في الملاحظة.
- الوكلاء **مستقلون** في التفكير.
- الوكلاء **غير سياديين** في التنفيذ.

لا يملك أي وكيل صلاحية:

- تعديل بنية مشتركة.
- تغيير سلوك عام للنظام.
- كتابة كود ملزم.
- فرض مسار تنفيذي.

أي انتقال من “فكرة” إلى “فعل” يمر عبر:

> قرار بشري صريح.

---

## 3. نموذج الاقتراح الإلزامي (The Proposal Model)

أي مخرجات من الوكيل يجب أن تُصاغ في قالب منضبط قبل عرضها:

1. **المحفز (Trigger)**  
   لماذا تم فتح هذا المسار الآن؟

2. **الأثر (Impact)**  
   ما التغيير المتوقع في النظام؟

3. **المخاطر (Risks)**  
   ماذا لو فشل الاقتراح أو طُبّق بشكل خاطئ؟

4. **البدائل (Alternatives)**  
   ما الخيارات الأخرى المتاحة؟ ولماذا لم تُختر؟

5. **التكلفة (Cost / Effort)**  
   الجهد التقني والزمني والتعقيد المتوقع.

6. **تصور التنفيذ (Execution Plan)**  
   كيف يمكن تحويل الاقتراح إلى واقع؟

الاقتراح:

- مادة للنقاش.
- ليس التزامًا.
- يمكن تجميده أو أرشفته أو تطويره أو إلغاؤه.

---

## 4. الأدوار المقترحة للوكلاء

هذه أمثلة، لا قيود:

1. **Architect** — يراقب تماسك الهيكل وقابلية التوسع.  
2. **Clean Code** — يراقب التبسيط وعدم التكرار.  
3. **Security** — يحلل مخاطر الثغرات وتسريب البيانات.  
4. **Performance** — يقيس السرعة واستهلاك الموارد.  
5. **Chronicler** — يجمع السياق ويحوله إلى تاريخ تقني.  
6. **Feasibility** — يقدّر الجهد والوقت والتعقيد.  
7. **Explorer** — يقدم أفكارًا بديلة/متمردة.  
8. **Red Team** — يتعمد النقد والهدم للتقييم.

عدد الوكلاء وطبيعة أدوارهم:

- تتغير مع الزمن.
- تُدار بقرار منك.
- ليست ثابتة ولا مغلقة.

---

## 5. من يحدد النقص في الأدوار؟ (The Orchestrator)

هناك مصدران لظهور وكيل جديد:

### أ) المصدر الأول — أنت

عندما تشعر بوجود زاوية غير مغطاة:

> “استدعِ وكيل الامتثال القانوني.”  
> “أريد رأيًا ماليًا في هذا القرار.”

النظام ينفذ استدعاء الدور فورًا.

---

### ب) المصدر الثاني — النظام (تنبيهي)

من خلال تحليل القرار الحالي، قد يلاحظ النظام فجوة.

مثال:

- القرار يمس “السرعة”.
- لا يوجد وكيل أداء نشط.

يرسل النظام تنبيهًا:

> “ألاحظ أن هذا القرار يمس أداء النظام،  
> هل تود تفعيل وكيل الأداء للمشاركة في النقاش؟”

---

### القرار دائمًا لك

- يمكنك الموافقة.
- يمكنك الرفض.
- يمكنك التأجيل.

النظام لا يفرض وكيلًا عليك.

---

## 6. من يكتب الكود؟ (The Executioner)

الكود لا يُكتب “ذاتياً”.

بعد أن تحسم القرار وتضغط “اعتماد”:

- يقوم النظام بتحويل “صيغة القرار” إلى تعليمات برمجية.
- الذكاء الاصطناعي هنا هو “آلة كاتبة” فقط.
- يحول المنطق المتفق عليه إلى أسطر برمجية.

بعد التنفيذ:

- يعود وكيل الجودة.
- ويعود وكيل المعمارية.
- لمراجعة الناتج والتأكد من مطابقته للقرار.

---

## 7. من يصمم؟

التصميم ينقسم إلى شطرين:

### أ) التصميم المنطقي (الخلفي)
- يقوم به وكيل المعمارية بالتشاور مع النماذج.
- يقترح الهياكل والروابط.
- أنت من يصادق على المخطط النهائي.

### ب) التصميم الواجهي (UI)
- يظهر وكيل تجربة المستخدم (UX Agent).
- يقترح واجهات بناءً على أفضل الممارسات.
- يقوم محرك التنفيذ برسمها بعد اعتمادك.

---

## 8. من يعمل على الوثائق؟ (The Chronicler)

التوثيق ليس “عملاً إضافيًا”.

بما أن كل قرار مسبوق بـ:

- سبب  
- أثر  
- مخاطر  
- بدائل  

فإن النظام:

- يجمع هذه البيانات تلقائيًا.
- ويولّد “وثيقة حية”.
- تشرح:
  - ماذا يفعل الكود
  - ولماذا كُتب بهذا الشكل

التاريخ التقني يصبح ناتجًا طبيعيًا للعمل، لا عبئًا إضافيًا.
