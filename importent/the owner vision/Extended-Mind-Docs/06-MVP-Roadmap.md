# `06-MVP-Roadmap.md`  
**خطة البناء المرحلية (MVP Roadmap)**

هذه الخطة لا تهدف إلى “بناء النظام كاملًا”، بل إلى:

- إنشاء نواة حيّة قابلة للاستخدام.
- الحفاظ على روح المشروع منذ أول سطر كود.
- السماح للنظام أن ينمو تدريجيًا حسب الحاجة الواقعية.

كل مرحلة تنتج نظامًا يعمل فعلًا، لا مجرد هيكل نظري.

---

## المرحلة 0 — تجهيز الأساس (أسبوع)

**الناتج:**  
مشروع يعمل محليًا + قاعدة بيانات + واجهة أولية.

### يشمل:

- إعداد قاعدة البيانات (Postgres):
  - workspaces  
  - nodes  
  - node_versions  
  - edges  
  - events  

- هيكل API أساسي:
  - إنشاء Workspace
  - إنشاء Node
  - عرض Nodes

- واجهة مستخدم مبدئية:
  - إنشاء Workspace
  - عرض قائمة Nodes
  - فتح Node وقراءة محتواه

الهدف في هذه المرحلة:

> امتلاك “مساحة تفكير رقمية” حقيقية يمكن استخدامها فورًا.

---

## المرحلة 1 — عقل قابل للاستخدام (2–3 أسابيع)

**الناتج:**  
بيئة تفكير حقيقية مع تاريخ وتراكم.

### يشمل:

- إدارة Workspaces:
  - NORMAL
  - SANDBOX
  - JOURNAL

- Nodes:
  - إنشاء من أي نوع
  - تعديل المحتوى
  - حالات أساسية (RAW / OPEN / ARCHIVED)

- Versions:
  - حفظ نسخ المحتوى
  - الرجوع للإصدارات السابقة

- Edges:
  - ربط الأفكار
  - بناء شبكة التفكير

- Timeline:
  - عرض الأحداث
  - تاريخ تطور الفكر

- البحث والفلترة

في نهاية هذه المرحلة، النظام يصبح:

> عقلًا رقميًا بسيطًا يمكن التفكير داخله.

---

## المرحلة 2 — الوكلاء بشكل واقعي (3–5 أسابيع)

**الناتج:**  
وكلاء يقدمون اقتراحات منظمة بدل محادثات عامة.

### يشمل:

- Agents Registry:
  - تفعيل / تعطيل الوكلاء
  - تعريف نطاق كل وكيل

- Agent Run Pipeline:
  - تشغيل وكيل على Node
  - حفظ المخرجات

- توليد Proposal Nodes تلقائيًا

- 3 وكلاء MVP:
  - ArchitectAgent
  - RiskAgent
  - ExplorerAgent

- زر:
  ```
  Run Agents
  ```

النظام هنا يبدأ في:

> التفكير معك، لا بدلًا منك.

---

## المرحلة 3 — التعارض + القرار + السيادة (3–5 أسابيع)

**الناتج:**  
حسم إنساني مضبوط ومنع التنفيذ دون إذن.

### يشمل:

- Conflict Detection (Rule-Based):
  - رصد تضارب الاقتراحات
  - إنشاء CONFLICT Nodes

- واجهة إدارة التعارض:
  - عرض وجهتي النظر
  - الأبعاد المتعارضة

- Decision Flow:
  - اعتماد الاقتراح
  - توليد Decision Node
  - إنشاء Approval Token
  - كتابة Rationale
  - تحديد Scope Guard

- Audit Trail:
  - سجل غير قابل للتعديل لكل قرار

النظام هنا يصبح:

> بيئة قرار سيادي حقيقية.

---

## المرحلة 4 — التنفيذ الحقيقي (4–8 أسابيع)

**الناتج:**  
تحويل القرار إلى أثر فعلي.

### يشمل:

- Execution Engine:
  - استقبال القرار + Token
  - توليد المخرجات (كود / ملفات / وثائق)

- Review Loop:
  - مراجعة الناتج عبر الوكلاء
  - التأكد من مطابقة Scope Guard

- Artifacts:
  - تخزين نواتج التنفيذ
  - ربطها بالقرار

- التصدير التلقائي:
  - ADR
  - Spec
  - Changelog

النظام هنا يتحول إلى:

> بيئة تطوير واعية كاملة الدورة.

---

بعد هذه المراحل تبدأ مرحلة “النمو العضوي”:

- إضافة وكلاء جدد.
- تحسين كشف التعارض.
- تمثيل Graph بصريًا.
- بناء تحليلات إدراكية أعمق.

لكن دون فقدان:

- السيادة
- البطء الواعي
- احترام التفكير البشري
